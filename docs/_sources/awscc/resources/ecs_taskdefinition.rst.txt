.. File Generated By c7n-sphinxext from source. Do not edit.

.. _awscc.ecs_taskdefinition:

awscc.ecs_taskdefinition
========================




Filters
-------


  - :ref:`event <awscc.common.filters.event>`
  
  - :ref:`reduce <awscc.common.filters.reduce>`
  
  - :ref:`value <awscc.common.filters.value>`
  




Actions
-------


  - :ref:`delete <awscc.ecs_taskdefinition.actions.delete>`

  - :ref:`update <awscc.ecs_taskdefinition.actions.update>`

  - :ref:`webhook <awscc.common.actions.webhook>`
  



.. _awscc.ecs_taskdefinition.actions.delete:

delete
++++++
Parent base class for filters and actions.
    

.. container:: toggle

  

  .. raw:: html
     
    <div class="header docutils container" style=""></div>

  .. code-block:: yaml

    properties:
      type:
        enum:
        - delete
    required:
    - type




Permissions - ecs:DeregisterTaskDefinition, iam:GetRole, iam:PassRole


.. _awscc.ecs_taskdefinition.actions.update:

update
++++++
Parent base class for filters and actions.
    

.. container:: toggle

  

  .. raw:: html
     
    <div class="header docutils container" style=""></div>

  .. code-block:: yaml

    definitions:
      AuthorizationConfig:
        additionalProperties: false
        properties:
          AccessPointId:
            type: string
          IAM:
            enum:
            - ENABLED
            - DISABLED
            type: string
        type: object
      ContainerDefinition:
        additionalProperties: false
        description: List of container definitions that are passed to the Docker daemon
          on a container instance
        properties:
          Command:
            items:
              type: string
            type: array
          Cpu:
            type: integer
          DependsOn:
            items:
              additionalProperties: false
              properties:
                Condition:
                  type: string
                ContainerName:
                  type: string
              type: object
            type: array
          DisableNetworking:
            type: boolean
          DnsSearchDomains:
            items:
              type: string
            type: array
          DnsServers:
            items:
              type: string
            type: array
          DockerLabels:
            additionalProperties: false
            patternProperties:
              .{1,}:
                type: string
            type: object
          DockerSecurityOptions:
            items:
              type: string
            type: array
          EntryPoint:
            items:
              type: string
            type: array
          Environment:
            description: The environment variables to pass to a container
            items:
              additionalProperties: false
              properties:
                Name:
                  type: string
                Value:
                  type: string
              type: object
            type: array
            uniqueItems: true
          EnvironmentFiles:
            description: The list of one or more files that contain the environment variables
              to pass to a container
            items:
              additionalProperties: false
              properties:
                Type:
                  type: string
                Value:
                  type: string
              type: object
            type: array
          Essential:
            type: boolean
          ExtraHosts:
            items:
              additionalProperties: false
              properties:
                Hostname:
                  type: string
                IpAddress:
                  type: string
              type: object
            type: array
          FirelensConfiguration:
            additionalProperties: false
            properties:
              Options:
                additionalProperties: false
                patternProperties:
                  .{1,}:
                    type: string
                type: object
              Type:
                type: string
            type: object
          HealthCheck:
            additionalProperties: false
            description: The health check command and associated configuration parameters
              for the container.
            properties:
              Command:
                description: A string array representing the command that the container
                  runs to determine if it is healthy.
                items:
                  type: string
                type: array
              Interval:
                description: The time period in seconds between each health check execution.
                  You may specify between 5 and 300 seconds. The default value is 30 seconds.
                type: integer
              Retries:
                description: The number of times to retry a failed health check before
                  the container is considered unhealthy. You may specify between 1 and
                  10 retries. The default value is three retries.
                type: integer
              StartPeriod:
                description: The optional grace period within which to provide containers
                  time to bootstrap before failed health checks count towards the maximum
                  number of retries. You may specify between 0 and 300 seconds. The startPeriod
                  is disabled by default.
                type: integer
              Timeout:
                description: The time period in seconds to wait for a health check to
                  succeed before it is considered a failure. You may specify between 2
                  and 60 seconds. The default value is 5 seconds.
                type: integer
            type: object
          Hostname:
            type: string
          Image:
            description: The image used to start a container. This string is passed directly
              to the Docker daemon.
            type: string
          Interactive:
            type: boolean
          Links:
            items:
              type: string
            type: array
            uniqueItems: true
          LinuxParameters:
            additionalProperties: false
            properties:
              Capabilities:
                additionalProperties: false
                properties:
                  Add:
                    items:
                      type: string
                    type: array
                  Drop:
                    items:
                      type: string
                    type: array
                type: object
              Devices:
                items:
                  additionalProperties: false
                  properties:
                    ContainerPath:
                      type: string
                    HostPath:
                      type: string
                    Permissions:
                      items:
                        type: string
                      type: array
                      uniqueItems: true
                  type: object
                type: array
              InitProcessEnabled:
                type: boolean
              MaxSwap:
                type: integer
              SharedMemorySize:
                type: integer
              Swappiness:
                type: integer
              Tmpfs:
                items:
                  additionalProperties: false
                  properties:
                    ContainerPath:
                      type: string
                    MountOptions:
                      items:
                        type: string
                      type: array
                    Size:
                      type: integer
                  required:
                  - Size
                  type: object
                type: array
            type: object
          LogConfiguration:
            additionalProperties: false
            properties:
              LogDriver:
                type: string
              Options:
                additionalProperties: false
                patternProperties:
                  .{1,}:
                    type: string
                type: object
              SecretOptions:
                items:
                  additionalProperties: false
                  properties:
                    Name:
                      type: string
                    ValueFrom:
                      type: string
                  required:
                  - Name
                  - ValueFrom
                  type: object
                type: array
            required:
            - LogDriver
            type: object
          Memory:
            description: The amount (in MiB) of memory to present to the container. If
              your container attempts to exceed the memory specified here, the container
              is killed.
            type: integer
          MemoryReservation:
            type: integer
          MountPoints:
            items:
              additionalProperties: false
              properties:
                ContainerPath:
                  type: string
                ReadOnly:
                  type: boolean
                SourceVolume:
                  type: string
              type: object
            type: array
            uniqueItems: true
          Name:
            description: The name of a container. Up to 255 letters (uppercase and lowercase),
              numbers, hyphens, and underscores are allowed
            type: string
          PortMappings:
            description: Port mappings allow containers to access ports on the host container
              instance to send or receive traffic.
            items:
              additionalProperties: false
              properties:
                ContainerPort:
                  type: integer
                HostPort:
                  type: integer
                Protocol:
                  type: string
              type: object
            type: array
            uniqueItems: true
          Privileged:
            type: boolean
          PseudoTerminal:
            type: boolean
          ReadonlyRootFilesystem:
            type: boolean
          RepositoryCredentials:
            additionalProperties: false
            properties:
              CredentialsParameter:
                type: string
            type: object
          ResourceRequirements:
            items:
              additionalProperties: false
              properties:
                Type:
                  type: string
                Value:
                  type: string
              required:
              - Type
              - Value
              type: object
            type: array
          Secrets:
            items:
              additionalProperties: false
              properties:
                Name:
                  type: string
                ValueFrom:
                  type: string
              required:
              - Name
              - ValueFrom
              type: object
            type: array
          StartTimeout:
            type: integer
          StopTimeout:
            type: integer
          SystemControls:
            items:
              additionalProperties: false
              properties:
                Namespace:
                  type: string
                Value:
                  type: string
              type: object
            type: array
          Ulimits:
            items:
              additionalProperties: false
              properties:
                HardLimit:
                  type: integer
                Name:
                  type: string
                SoftLimit:
                  type: integer
              required:
              - HardLimit
              - Name
              - SoftLimit
              type: object
            type: array
          User:
            type: string
          VolumesFrom:
            items:
              additionalProperties: false
              properties:
                ReadOnly:
                  type: boolean
                SourceContainer:
                  type: string
              type: object
            type: array
            uniqueItems: true
          WorkingDirectory:
            type: string
        type: object
      ContainerDependency:
        additionalProperties: false
        properties:
          Condition:
            type: string
          ContainerName:
            type: string
        type: object
      Device:
        additionalProperties: false
        properties:
          ContainerPath:
            type: string
          HostPath:
            type: string
          Permissions:
            items:
              type: string
            type: array
            uniqueItems: true
        type: object
      DockerVolumeConfiguration:
        additionalProperties: false
        properties:
          Autoprovision:
            type: boolean
          Driver:
            type: string
          DriverOpts:
            additionalProperties: false
            patternProperties:
              .{1,}:
                type: string
            type: object
          Labels:
            additionalProperties: false
            patternProperties:
              .{1,}:
                type: string
            type: object
          Scope:
            type: string
        type: object
      EFSVolumeConfiguration:
        additionalProperties: false
        properties:
          AuthorizationConfig:
            additionalProperties: false
            properties:
              AccessPointId:
                type: string
              IAM:
                enum:
                - ENABLED
                - DISABLED
                type: string
            type: object
          FilesystemId:
            type: string
          RootDirectory:
            type: string
          TransitEncryption:
            enum:
            - ENABLED
            - DISABLED
            type: string
          TransitEncryptionPort:
            type: integer
        required:
        - FilesystemId
        type: object
      EnvironmentFile:
        additionalProperties: false
        properties:
          Type:
            type: string
          Value:
            type: string
        type: object
      EphemeralStorage:
        additionalProperties: false
        properties:
          SizeInGiB:
            type: integer
        type: object
      FirelensConfiguration:
        additionalProperties: false
        properties:
          Options:
            additionalProperties: false
            patternProperties:
              .{1,}:
                type: string
            type: object
          Type:
            type: string
        type: object
      HealthCheck:
        additionalProperties: false
        description: The health check command and associated configuration parameters
          for the container.
        properties:
          Command:
            description: A string array representing the command that the container runs
              to determine if it is healthy.
            items:
              type: string
            type: array
          Interval:
            description: The time period in seconds between each health check execution.
              You may specify between 5 and 300 seconds. The default value is 30 seconds.
            type: integer
          Retries:
            description: The number of times to retry a failed health check before the
              container is considered unhealthy. You may specify between 1 and 10 retries.
              The default value is three retries.
            type: integer
          StartPeriod:
            description: The optional grace period within which to provide containers
              time to bootstrap before failed health checks count towards the maximum
              number of retries. You may specify between 0 and 300 seconds. The startPeriod
              is disabled by default.
            type: integer
          Timeout:
            description: The time period in seconds to wait for a health check to succeed
              before it is considered a failure. You may specify between 2 and 60 seconds.
              The default value is 5 seconds.
            type: integer
        type: object
      HostEntry:
        additionalProperties: false
        properties:
          Hostname:
            type: string
          IpAddress:
            type: string
        type: object
      HostVolumeProperties:
        additionalProperties: false
        properties:
          SourcePath:
            type: string
        type: object
      InferenceAccelerator:
        additionalProperties: false
        properties:
          DeviceName:
            type: string
          DeviceType:
            type: string
        type: object
      KernelCapabilities:
        additionalProperties: false
        properties:
          Add:
            items:
              type: string
            type: array
          Drop:
            items:
              type: string
            type: array
        type: object
      KeyValuePair:
        additionalProperties: false
        properties:
          Name:
            type: string
          Value:
            type: string
        type: object
      LinuxParameters:
        additionalProperties: false
        properties:
          Capabilities:
            additionalProperties: false
            properties:
              Add:
                items:
                  type: string
                type: array
              Drop:
                items:
                  type: string
                type: array
            type: object
          Devices:
            items:
              additionalProperties: false
              properties:
                ContainerPath:
                  type: string
                HostPath:
                  type: string
                Permissions:
                  items:
                    type: string
                  type: array
                  uniqueItems: true
              type: object
            type: array
          InitProcessEnabled:
            type: boolean
          MaxSwap:
            type: integer
          SharedMemorySize:
            type: integer
          Swappiness:
            type: integer
          Tmpfs:
            items:
              additionalProperties: false
              properties:
                ContainerPath:
                  type: string
                MountOptions:
                  items:
                    type: string
                  type: array
                Size:
                  type: integer
              required:
              - Size
              type: object
            type: array
        type: object
      LogConfiguration:
        additionalProperties: false
        properties:
          LogDriver:
            type: string
          Options:
            additionalProperties: false
            patternProperties:
              .{1,}:
                type: string
            type: object
          SecretOptions:
            items:
              additionalProperties: false
              properties:
                Name:
                  type: string
                ValueFrom:
                  type: string
              required:
              - Name
              - ValueFrom
              type: object
            type: array
        required:
        - LogDriver
        type: object
      MountPoint:
        additionalProperties: false
        properties:
          ContainerPath:
            type: string
          ReadOnly:
            type: boolean
          SourceVolume:
            type: string
        type: object
      PortMapping:
        additionalProperties: false
        properties:
          ContainerPort:
            type: integer
          HostPort:
            type: integer
          Protocol:
            type: string
        type: object
      ProxyConfiguration:
        additionalProperties: false
        properties:
          ContainerName:
            type: string
          ProxyConfigurationProperties:
            items:
              additionalProperties: false
              properties:
                Name:
                  type: string
                Value:
                  type: string
              type: object
            type: array
            uniqueItems: true
          Type:
            type: string
        required:
        - ContainerName
        type: object
      RepositoryCredentials:
        additionalProperties: false
        properties:
          CredentialsParameter:
            type: string
        type: object
      ResourceRequirement:
        additionalProperties: false
        properties:
          Type:
            type: string
          Value:
            type: string
        required:
        - Type
        - Value
        type: object
      RuntimePlatform:
        additionalProperties: false
        properties:
          CpuArchitecture:
            type: string
          OperatingSystemFamily:
            type: string
        type: object
      Secret:
        additionalProperties: false
        properties:
          Name:
            type: string
          ValueFrom:
            type: string
        required:
        - Name
        - ValueFrom
        type: object
      SystemControl:
        additionalProperties: false
        properties:
          Namespace:
            type: string
          Value:
            type: string
        type: object
      Tag:
        additionalProperties: false
        properties:
          Key:
            type: string
          Value:
            type: string
        type: object
      TaskDefinitionPlacementConstraint:
        additionalProperties: false
        properties:
          Expression:
            type: string
          Type:
            type: string
        required:
        - Type
        type: object
      Tmpfs:
        additionalProperties: false
        properties:
          ContainerPath:
            type: string
          MountOptions:
            items:
              type: string
            type: array
          Size:
            type: integer
        required:
        - Size
        type: object
      Ulimit:
        additionalProperties: false
        properties:
          HardLimit:
            type: integer
          Name:
            type: string
          SoftLimit:
            type: integer
        required:
        - HardLimit
        - Name
        - SoftLimit
        type: object
      Volume:
        additionalProperties: false
        properties:
          DockerVolumeConfiguration:
            additionalProperties: false
            properties:
              Autoprovision:
                type: boolean
              Driver:
                type: string
              DriverOpts:
                additionalProperties: false
                patternProperties:
                  .{1,}:
                    type: string
                type: object
              Labels:
                additionalProperties: false
                patternProperties:
                  .{1,}:
                    type: string
                type: object
              Scope:
                type: string
            type: object
          EFSVolumeConfiguration:
            additionalProperties: false
            properties:
              AuthorizationConfig:
                additionalProperties: false
                properties:
                  AccessPointId:
                    type: string
                  IAM:
                    enum:
                    - ENABLED
                    - DISABLED
                    type: string
                type: object
              FilesystemId:
                type: string
              RootDirectory:
                type: string
              TransitEncryption:
                enum:
                - ENABLED
                - DISABLED
                type: string
              TransitEncryptionPort:
                type: integer
            required:
            - FilesystemId
            type: object
          Host:
            additionalProperties: false
            properties:
              SourcePath:
                type: string
            type: object
          Name:
            type: string
        type: object
      VolumeFrom:
        additionalProperties: false
        properties:
          ReadOnly:
            type: boolean
          SourceContainer:
            type: string
        type: object
    properties:
      Tags:
        items:
          additionalProperties: false
          properties:
            Key:
              type: string
            Value:
              type: string
          type: object
        type: array
      type:
        enum:
        - update




Permissions - ecs:TagResource, ecs:UntagResource, ecs:ListTagsForResource, iam:GetRole, iam:PassRole

