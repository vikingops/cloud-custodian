.. File Generated By c7n-sphinxext from source. Do not edit.

.. _azure.subscription:

azure.subscription
==================

Subscription Resource

:example:

This policy creates Azure Policy scoped to the current subscription if doesn't exist.

.. code-block:: yaml

    policies:
      - name: azure-policy-sample
        resource: azure.subscription
        filters:
          - type: missing
            policy:
              resource: azure.policyassignments
              filters:
                - type: value
                  key: properties.displayName
                  op: eq
                  value_type: normalize
                  value: dn_sample_policy
        actions:
          - type: add-policy
            name: sample_policy
            display_name: dn_sample_policy
            definition_name: "Audit use of classic storage accounts"


Filters
-------


  - :ref:`event <azure.common.filters.event>`
  
  - :ref:`missing <azure.subscription.filters.missing>`

  - :ref:`reduce <azure.common.filters.reduce>`
  
  - :ref:`value <azure.common.filters.value>`
  


.. _azure.subscription.filters.missing:

missing
+++++++
Assert the absence of a particular resource.

Intended for use at a logical account/subscription/project level

This works as an effectively an embedded policy thats evaluated.

.. container:: toggle

  

  .. raw:: html
     
    <div class="header docutils container" style=""></div>

  .. code-block:: yaml

    properties:
      policy:
        properties:
          resource:
            type: string
        required:
        - resource
        type: object
      type:
        enum:
        - missing
    required:
    - policy
    - type







Actions
-------


  - :ref:`add-policy <azure.subscription.actions.add-policy>`

  - :ref:`logic-app <azure.common.actions.logic-app>`
  
  - :ref:`notify <azure.common.actions.notify>`
  
  - :ref:`webhook <azure.common.actions.webhook>`
  



.. _azure.subscription.actions.add-policy:

add-policy
++++++++++
Parent base class for filters and actions.
    

.. container:: toggle

  

  .. raw:: html
     
    <div class="header docutils container" style=""></div>

  .. code-block:: yaml

    properties:
      definition_name:
        type: string
      display_name:
        type: string
      name:
        type: string
      scope:
        type: string
      type:
        enum:
        - add-policy
    required:
    - name
    - display_name
    - definition_name
    - type




